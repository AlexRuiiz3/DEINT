<Page
    x:Class="EjercicioFinalLayouts.Views.CitasPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:EjercicioFinalLayouts"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm ="using:EjercicioFinalLayouts.ViewModels"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.DataContext>
        <vm:CitasViewVM/>
    </Page.DataContext>
    
    <RelativePanel>

        <StackPanel x:ConnectionId='2' Name="stackTop" Background="Black" Orientation="Horizontal"  MinHeight="55" RelativePanel.AlignLeftWithPanel="True" RelativePanel.AlignRightWithPanel="True" RelativePanel.AlignTopWithPanel="True">

            <Button>
                <!--No uso Appbarbutton porque no puedo cambiar el tamaño del icono-->
                <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xe77b;" Foreground="Orange" FontSize="35"></FontIcon>
            </Button>

            <TextBlock x:ConnectionId='14' x:Name="txtBNombreUsuario" Text="Fernando Galiana" VerticalAlignment="Center" Foreground="White" FontSize="25"/>

        </StackPanel>

        <GridView x:ConnectionId='3' x:Name="GridCitas" IsItemClickEnabled="True" 
                  SelectionMode="Single" RelativePanel.AlignLeftWithPanel="True" 
                  RelativePanel.AlignRightWithPanel="True" RelativePanel.Below="stackTop" RelativePanel.Above="stackBelow"
                  VerticalAlignment="Center" HorizontalAlignment="Center"
                                                 
                  ItemsSource="{Binding Citas}">

            <GridView.ItemContainerStyle>
                <Style TargetType="GridViewItem">
                    <Setter Property="Margin" Value="10, 10, 10, 10"/>
                </Style>
            </GridView.ItemContainerStyle>

            <GridView.ItemsPanel>
                <ItemsPanelTemplate>
                    <ItemsWrapGrid MaximumRowsOrColumns="3" Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </GridView.ItemsPanel>

            <GridView.ItemTemplate>
                <DataTemplate x:Name="DataTemplateGridCitas">
                    <Grid Width="Auto">
                        <StackPanel Orientation="Horizontal" BorderBrush="LightGray" BorderThickness="8" CornerRadius="5" MinWidth="400">
                            <Image Source="/Assets/Ubicacion.png" MaxWidth="200" MaxHeight="300" Margin="10,0"></Image>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock x:Name="txtBDiaSemana" Text="{Binding DiaSemana}" FontSize="20"></TextBlock>
                                <TextBlock x:Name="txtBDia" Text="{Binding Dia}" FontSize="18"></TextBlock>
                                <TextBlock x:Name="txtBMes" Text="{Binding Mes}" FontSize="18"></TextBlock>
                                <TextBlock x:Name="txtBHorario" Text="{Binding Horario}" FontSize="18"></TextBlock>
                                <TextBlock x:Name="txtBCodigoPostal" Text="{Binding CodigoPostal}" FontSize="18" Margin="0,0,0,20"></TextBlock>
                                <TextBlock x:Name="txtBDireccion" Text="{Binding Direccion}" FontSize="18"></TextBlock>
                                </StackPanel>
                        </StackPanel>
                    </Grid>
                </DataTemplate>
            </GridView.ItemTemplate>
        </GridView>

        <StackPanel x:ConnectionId='4' Name="stackBelow" Background="Black" MinHeight="55" RelativePanel.AlignLeftWithPanel="True" RelativePanel.AlignRightWithPanel="True" RelativePanel.AlignBottomWithPanel="True">
            <TextBlock x:ConnectionId='5' x:Name="txtBNumeroNotificaciones" Text="2" FontSize="20" HorizontalAlignment="Right" Foreground="Red" Margin="0,0,5,-20"></TextBlock>
            <Button HorizontalAlignment="Right">
                <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xEdac;" Foreground="Orange" FontSize="35"></FontIcon>
            </Button>
        </StackPanel>
    </RelativePanel>
</Page>

