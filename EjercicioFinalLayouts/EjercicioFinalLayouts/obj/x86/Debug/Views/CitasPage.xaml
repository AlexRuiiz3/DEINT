<Page
    x:Class="EjercicioFinalLayouts.Views.CitasPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:EjercicioFinalLayouts"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm ="using:EjercicioFinalLayouts.ViewModels"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.DataContext>
        <vm:CitasViewVM/>
    </Page.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>


        <StackPanel x:ConnectionId='2' Name="stackTop" Background="LightBlue" Orientation="Horizontal"  MinHeight="50" Grid.Row="0">
            <Button Background="Transparent">
                <!--No uso Appbarbutton porque no puedo cambiar el tamaño del icono-->
                <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xe77b;" Foreground="DarkOrange" FontSize="35"></FontIcon>
            </Button>
            <TextBlock x:ConnectionId='13' x:Name="txtBNombreUsuario" Text="Fernando Galiana" VerticalAlignment="Center" Foreground="White" FontSize="25"/>
        </StackPanel>

        <TextBlock Text="CITAS DISPONIBLES" Grid.Row="1" HorizontalAlignment="Center" FontSize="30"></TextBlock>
        
        <GridView x:ConnectionId='3' x:Name="GridCitas" IsItemClickEnabled="True" 
                  HorizontalAlignment="Center"
                  SelectionMode="Single"
                  Grid.Row="2"
                                                 
                  ItemsSource="{Binding Citas}">

            <GridView.ItemContainerStyle>
                <Style TargetType="GridViewItem">
                    <Setter Property="Margin" Value="10, 10, 10, 10"/>
                </Style>
            </GridView.ItemContainerStyle>

            <GridView.ItemsPanel>
                <ItemsPanelTemplate>
                    <ItemsWrapGrid MaximumRowsOrColumns="2" Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </GridView.ItemsPanel>

            <GridView.ItemTemplate>
                <DataTemplate x:Name="DataTemplateGridCitas">
                    <StackPanel Orientation="Horizontal" BorderBrush="LightSkyBlue" BorderThickness="6" CornerRadius="3">
                        <Image Source="/Assets/Ubicacion.png" MaxWidth="270" MaxHeight="270" Margin="0,3,10,3"></Image>
                        <StackPanel VerticalAlignment="Center" Width="180">
                            <TextBlock x:Name="txtBDiaSemana" Text="{Binding DiaSemana}" FontSize="20"></TextBlock>
                            <TextBlock x:Name="txtBDia" Text="{Binding Dia}" FontSize="18"></TextBlock>
                            <TextBlock x:Name="txtBMes" Text="{Binding Mes}" FontSize="18"></TextBlock>
                            <TextBlock x:Name="txtBHorario" Text="{Binding Horario}" FontSize="18"></TextBlock>
                            <TextBlock x:Name="txtBDireccion" Text="{Binding Direccion}" TextWrapping="Wrap" FontSize="18"></TextBlock>
                            <TextBlock x:Name="txtBCodigoPostal" Text="{Binding CodigoPostal}" FontSize="18" Margin="0,0,0,20"></TextBlock>
                        </StackPanel>
                    </StackPanel>
                </DataTemplate>
            </GridView.ItemTemplate>
        </GridView>

        <StackPanel x:ConnectionId='4' Name="stackBelow" Background="LightBlue" MinHeight="50" Grid.Row="3">
            <TextBlock Text="2" FontSize="20" HorizontalAlignment="Right" Foreground="Red" Margin="0,0,5,-25"></TextBlock>
            <Button HorizontalAlignment="Right" Background="Transparent">
                <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xEdac;" Foreground="DarkOrange" FontSize="35"></FontIcon>
            </Button>
        </StackPanel>
    </Grid>
</Page>

